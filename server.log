INFO:     Started server process [12800]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-08 13:54:20,312 - INFO - 🚀 전체 작업 시작: 채널 1159487918512017488 (최근 1시간)
2025-07-08 13:54:20,317 - INFO - Starting collection for channel 1159487918512017488, last 1 hours
2025-07-08 13:54:20,317 - INFO - 🔍 디버깅: 수집 시간 설정 - 1시간 (시작: 2025-07-08 04:54:20.317589+00:00, 기준: 2025-07-08 03:54:20.317589+00:00)
2025-07-08 13:54:20,317 - INFO - Fetching messages from channel 1159487918512017488 for last 1 hours
2025-07-08 13:54:20,317 - INFO - 🔍 디버깅: 메시지 필터링 기준 시간 - 2025-07-08 03:54:20.317707+00:00 (UTC)
2025-07-08 13:54:21,048 - INFO - Discord API 응답 (첫 500자): [{'type': 0, 'content': '수고하셨습니다', 'mentions': [], 'mention_roles': [], 'attachments': [], 'embeds': [], 'timestamp': '2025-07-07T23:31:21.169000+00:00', 'edited_timestamp': None, 'flags': 0, 'components': [], 'id': '1391924582469996625', 'channel_id': '1159487918512017488', 'author': {'id': '1183422126531809410', 'username': 'haje0258', 'avatar': '157e517cdbf371a47aaead44675714a3', 'discriminator': '0', 'public_flags': 0, 'flags': 0, 'banner': None, 'accent_color': None, 'global_name': 'Haje', 
2025-07-08 13:54:21,048 - INFO - 🔍 디버깅: 요청 #1 - 받은 메시지 개수: 100
2025-07-08 13:54:21,048 - INFO - 🔍 디버깅: 메시지 #1 시간 초과 - 2025-07-07 23:31:21.169000+00:00 < 2025-07-08 03:54:20.317707+00:00
2025-07-08 13:54:21,756 - WARNING - No messages to save
2025-07-08 13:54:21,756 - INFO - Collection completed successfully: {'status': 'success', 'channel_id': '1159487918512017488', 'channel_name': '💬main-stock-chat', 'server_name': 'Momentum Messengers', 'hours': 1, 'messages_fetched': 0, 'messages_saved': 0, 'execution_time': '0:00:01.439194', 'timestamp': '2025-07-08T04:54:20.317589+00:00'}
2025-07-08 13:54:21,757 - INFO - ✅ 전체 작업 완료 (총 소요시간: 1.44초)
2025-07-08 13:54:21,757 - INFO - 📊 수집 결과: 0개 메시지
✅ 환경변수 로드됨: /Users/seongjin/Cursor/Discord/config.env
🚀 Discord Collector API Server
==================================================
📊 API 엔드포인트:
  ├─ GET  /          : 서버 상태
  ├─ GET  /health    : 헬스 체크
  ├─ POST /collect   : 메시지 수집 (비동기)
  ├─ POST /collect/sync : 메시지 수집 (동기)
  ├─ GET  /collect/momentum : Momentum 서버 수집
  ├─ GET  /tasks/{id}: 작업 상태 조회
  └─ GET  /tasks     : 모든 작업 목록
==================================================
🌐 서버 주소: http://localhost:8000
📝 API 문서: http://localhost:8000/docs
==================================================
INFO:     127.0.0.1:52207 - "GET /collect/momentum HTTP/1.1" 200 OK
