INFO:     Started server process [13866]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-08 13:56:05,697 - INFO - ğŸš€ ì „ì²´ ì‘ì—… ì‹œì‘: ì±„ë„ 1159487918512017488 (ìµœê·¼ 24ì‹œê°„)
2025-07-08 13:56:05,704 - INFO - Starting collection for channel 1159487918512017488, last 24 hours
2025-07-08 13:56:05,704 - INFO - ğŸ” ë””ë²„ê¹…: ìˆ˜ì§‘ ì‹œê°„ ì„¤ì • - 24ì‹œê°„ (ì‹œì‘: 2025-07-08 04:56:05.704337+00:00, ê¸°ì¤€: 2025-07-07 04:56:05.704337+00:00)
2025-07-08 13:56:05,704 - INFO - Fetching messages from channel 1159487918512017488 for last 24 hours
2025-07-08 13:56:05,704 - INFO - ğŸ” ë””ë²„ê¹…: ë©”ì‹œì§€ í•„í„°ë§ ê¸°ì¤€ ì‹œê°„ - 2025-07-07 04:56:05.704462+00:00 (UTC)
2025-07-08 13:56:06,212 - INFO - Discord API ì‘ë‹µ (ì²« 500ì): [{'type': 0, 'content': 'ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤', 'mentions': [], 'mention_roles': [], 'attachments': [], 'embeds': [], 'timestamp': '2025-07-07T23:31:21.169000+00:00', 'edited_timestamp': None, 'flags': 0, 'components': [], 'id': '1391924582469996625', 'channel_id': '1159487918512017488', 'author': {'id': '1183422126531809410', 'username': 'haje0258', 'avatar': '157e517cdbf371a47aaead44675714a3', 'discriminator': '0', 'public_flags': 0, 'flags': 0, 'banner': None, 'accent_color': None, 'global_name': 'Haje', 
2025-07-08 13:56:06,213 - INFO - ğŸ” ë””ë²„ê¹…: ìš”ì²­ #1 - ë°›ì€ ë©”ì‹œì§€ ê°œìˆ˜: 100
2025-07-08 13:56:06,213 - INFO - ğŸ” ë””ë²„ê¹…: ë©”ì‹œì§€ #1 ì‹œê°„ - 2025-07-07 23:31:21.169000+00:00
2025-07-08 13:56:06,213 - INFO - ğŸ” ë””ë²„ê¹…: ë©”ì‹œì§€ #2 ì‹œê°„ - 2025-07-07 23:26:39.575000+00:00
2025-07-08 13:56:06,213 - INFO - ğŸ” ë””ë²„ê¹…: ë©”ì‹œì§€ #3 ì‹œê°„ - 2025-07-07 23:22:16.560000+00:00
2025-07-08 13:56:06,213 - INFO - ğŸ” ë””ë²„ê¹…: ë©”ì‹œì§€ #92 ì‹œê°„ ì´ˆê³¼ - 2025-07-07 02:19:53.972000+00:00 < 2025-07-07 04:56:05.704462+00:00
2025-07-08 13:56:06,213 - INFO - ğŸ” ë””ë²„ê¹…: ì‹œê°„ ì´ˆê³¼ë¡œ ì¸í•œ ìˆ˜ì§‘ ì¢…ë£Œ. ì´ ìˆ˜ì§‘ëœ ë©”ì‹œì§€: 91ê°œ
2025-07-08 13:56:06,213 - INFO - Total fetched: 91 messages
2025-07-08 13:56:07,088 - INFO - Saving 91 messages to Supabase
2025-07-08 13:56:08,077 - INFO - HTTP Request: POST https://tmywnnshruqmoaempwwi.supabase.co/rest/v1/discord_messages?on_conflict=id&columns=%22embeds%22%2C%22channel_id%22%2C%22author_name%22%2C%22channel_name%22%2C%22reactions%22%2C%22reference_message_id%22%2C%22author_avatar%22%2C%22id%22%2C%22is_pinned%22%2C%22author_id%22%2C%22server_name%22%2C%22mentions%22%2C%22attachments%22%2C%22message_type%22%2C%22server_id%22%2C%22content%22%2C%22timestamp%22%2C%22author_discriminator%22 "HTTP/2 201 Created"
2025-07-08 13:56:08,081 - INFO - Saved batch 1: 50 messages
2025-07-08 13:56:08,471 - INFO - HTTP Request: POST https://tmywnnshruqmoaempwwi.supabase.co/rest/v1/discord_messages?on_conflict=id&columns=%22embeds%22%2C%22channel_id%22%2C%22author_name%22%2C%22channel_name%22%2C%22reactions%22%2C%22reference_message_id%22%2C%22author_avatar%22%2C%22id%22%2C%22is_pinned%22%2C%22author_id%22%2C%22server_name%22%2C%22mentions%22%2C%22attachments%22%2C%22message_type%22%2C%22server_id%22%2C%22content%22%2C%22timestamp%22%2C%22author_discriminator%22 "HTTP/2 201 Created"
2025-07-08 13:56:08,472 - INFO - Saved batch 2: 41 messages
2025-07-08 13:56:08,472 - INFO - Successfully saved 91 messages
2025-07-08 13:56:08,472 - INFO - Collection completed successfully: {'status': 'success', 'channel_id': '1159487918512017488', 'channel_name': 'ğŸ’¬main-stock-chat', 'server_name': 'Momentum Messengers', 'hours': 24, 'messages_fetched': 91, 'messages_saved': 91, 'execution_time': '0:00:02.768152', 'timestamp': '2025-07-08T04:56:05.704337+00:00'}
2025-07-08 13:56:08,472 - INFO - âœ… ì „ì²´ ì‘ì—… ì™„ë£Œ (ì´ ì†Œìš”ì‹œê°„: 2.77ì´ˆ)
2025-07-08 13:56:08,472 - INFO - ğŸ“Š ìˆ˜ì§‘ ê²°ê³¼: 91ê°œ ë©”ì‹œì§€
âœ… í™˜ê²½ë³€ìˆ˜ ë¡œë“œë¨: /Users/seongjin/Cursor/Discord/config.env
ğŸš€ Discord Collector API Server
==================================================
ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸:
  â”œâ”€ GET  /          : ì„œë²„ ìƒíƒœ
  â”œâ”€ GET  /health    : í—¬ìŠ¤ ì²´í¬
  â”œâ”€ POST /collect   : ë©”ì‹œì§€ ìˆ˜ì§‘ (ë¹„ë™ê¸°)
  â”œâ”€ POST /collect/sync : ë©”ì‹œì§€ ìˆ˜ì§‘ (ë™ê¸°)
  â”œâ”€ GET  /collect/momentum : Momentum ì„œë²„ ìˆ˜ì§‘
  â”œâ”€ GET  /tasks/{id}: ì‘ì—… ìƒíƒœ ì¡°íšŒ
  â””â”€ GET  /tasks     : ëª¨ë“  ì‘ì—… ëª©ë¡
==================================================
ğŸŒ ì„œë²„ ì£¼ì†Œ: http://localhost:8000
ğŸ“ API ë¬¸ì„œ: http://localhost:8000/docs
==================================================
INFO:     127.0.0.1:52365 - "GET /collect/momentum HTTP/1.1" 200 OK
